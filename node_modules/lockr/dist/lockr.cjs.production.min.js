"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="";function t(t,r){return!0===(null==r?void 0:r.noPrefix)?t:""+e+t}function r(){return e.length>0}function o(){return e}function n(e,r){var o,n=t(e,r),a=localStorage.getItem(n);return(o=null!==a?JSON.parse(a):null)&&o.data?o.data:[]}function a(e,r,o){var n,a=t(e,o),c=localStorage.getItem(a);try{null!==c&&(n=JSON.parse(c))}catch(e){n=localStorage[a]?{data:localStorage.getItem(a)}:null}return n?"object"==typeof n&&void 0!==n.data?n.data:void 0:r}function c(){var e=o(),t=[],n=Object.keys(localStorage);return r()?(n.forEach((function(r){-1!==r.indexOf(e)&&t.push(r.replace(e,""))})),t):n}exports.flush=function(){o.length>0?c().forEach((function(e){localStorage.removeItem(t(e))})):localStorage.clear()},exports.get=a,exports.getAll=function(e){var t=c();return e?t.reduce((function(e,t){var r={};return r[t]=a(t),e.push(r),e}),[]):t.map((function(e){return a(e)}))},exports.getPrefix=o,exports.getPrefixedKey=t,exports.hasPrefix=r,exports.keys=c,exports.rm=function(e,r){var o=t(e,r);return localStorage.removeItem(o)},exports.sadd=function(e,r,o){var a,c=t(e,o),l=n(e);if(l.indexOf(r)>-1)return!1;try{l.push(r),a=JSON.stringify({data:l}),localStorage.setItem(c,a)}catch(t){console.log(t),console&&console.warn("Lockr didn't successfully add the "+r+" to "+e+" set, because the localStorage is full.")}return!0},exports.set=function(e,r,o){var n=t(e,o);try{localStorage.setItem(n,JSON.stringify({data:r}))}catch(t){console&&console.warn("Lockr didn't successfully save the '{\""+e+'": "'+r+"\"}' pair, because the localStorage is full.")}},exports.setPrefix=function(t){return e=t},exports.sismember=function(e,t){return n(e).indexOf(t)>-1},exports.smembers=n,exports.srem=function(e,r,o){var a=t(e,o),c=n(e,r),l=c.indexOf(r);l>-1&&c.splice(l,1);var s=JSON.stringify({data:c});try{localStorage.setItem(a,s)}catch(t){console&&console.warn("Lockr couldn't remove the "+r+" from the set "+e)}};
//# sourceMappingURL=lockr.cjs.production.min.js.map
